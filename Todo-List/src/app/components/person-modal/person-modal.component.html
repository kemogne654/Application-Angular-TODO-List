<div class="person-modal">
  <h2 mat-dialog-title class="modal-title">
    <mat-icon class="title-icon">{{isEdit ? 'edit' : 'person_add'}}</mat-icon>
    {{isEdit ? 'Modifier la personne' : 'Ajouter une personne'}}
  </h2>

  <mat-dialog-content class="modal-content">
    <form [formGroup]="personForm" class="person-form">
      <div class="form-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nom complet *</mat-label>
          <input matInput 
                 formControlName="name" 
                 placeholder="Prénom Nom"
                 maxlength="50">
          <mat-error *ngIf="personForm.get('name')?.errors && personForm.get('name')?.touched">
            {{getFieldError('name')}}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Adresse email *</mat-label>
          <input matInput 
                 type="email"
                 formControlName="email" 
                 placeholder="exemple@email.com"
                 maxlength="100">
          <mat-icon matSuffix>email</mat-icon>
          <mat-error *ngIf="personForm.get('email')?.errors && personForm.get('email')?.touched">
            {{getFieldError('email')}}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Numéro de téléphone *</mat-label>
          <input matInput 
                 type="tel"
                 formControlName="phone" 
                 placeholder="+33 1 23 45 67 89"
                 maxlength="20">
          <mat-icon matSuffix>phone</mat-icon>
          <mat-error *ngIf="personForm.get('phone')?.errors && personForm.get('phone')?.touched">
            {{getFieldError('phone')}}
          </mat-error>
        </mat-form-field>
      </div>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions class="modal-actions">
    <button mat-button (click)="onCancel()" class="cancel-btn">
      <mat-icon>close</mat-icon>
      Annuler
    </button>
    <button mat-raised-button 
            color="primary" 
            (click)="onSave()" 
            [disabled]="personForm.invalid"
            class="save-btn">
      <mat-icon>{{isEdit ? 'save' : 'person_add'}}</mat-icon>
      {{isEdit ? 'Enregistrer' : 'Créer'}}
    </button>
  </mat-dialog-actions>
</div>